# Test For Coilgun In Offhand
tag @a remove hold_coilgun_offhand
tag @a[nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""}}}]}] add hold_coilgun_offhand

# Store Bullet Count Of Offhand Gun
scoreboard players set @a bullet_count_offhand 0
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:1}}]}] run scoreboard players add @s bullet_count_offhand 1
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:2}}]}] run scoreboard players add @s bullet_count_offhand 2
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:3}}]}] run scoreboard players add @s bullet_count_offhand 3
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:4}}]}] run scoreboard players add @s bullet_count_offhand 4
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:5}}]}] run scoreboard players add @s bullet_count_offhand 5
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:6}}]}] run scoreboard players add @s bullet_count_offhand 6
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:7}}]}] run scoreboard players add @s bullet_count_offhand 7
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:8}}]}] run scoreboard players add @s bullet_count_offhand 8
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:9}}]}] run scoreboard players add @s bullet_count_offhand 9
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:10}}]}] run scoreboard players add @s bullet_count_offhand 10
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:11}}]}] run scoreboard players add @s bullet_count_offhand 11
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:12}}]}] run scoreboard players add @s bullet_count_offhand 12
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:13}}]}] run scoreboard players add @s bullet_count_offhand 13
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:14}}]}] run scoreboard players add @s bullet_count_offhand 14
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:15}}]}] run scoreboard players add @s bullet_count_offhand 15
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:16}}]}] run scoreboard players add @s bullet_count_offhand 16
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:17}}]}] run scoreboard players add @s bullet_count_offhand 17
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:18}}]}] run scoreboard players add @s bullet_count_offhand 18
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:19}}]}] run scoreboard players add @s bullet_count_offhand 19
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:20}}]}] run scoreboard players add @s bullet_count_offhand 20
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:21}}]}] run scoreboard players add @s bullet_count_offhand 21
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:22}}]}] run scoreboard players add @s bullet_count_offhand 22
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:23}}]}] run scoreboard players add @s bullet_count_offhand 23
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:24}}]}] run scoreboard players add @s bullet_count_offhand 24
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:25}}]}] run scoreboard players add @s bullet_count_offhand 25
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:26}}]}] run scoreboard players add @s bullet_count_offhand 26
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:27}}]}] run scoreboard players add @s bullet_count_offhand 27
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:28}}]}] run scoreboard players add @s bullet_count_offhand 28
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:29}}]}] run scoreboard players add @s bullet_count_offhand 29
execute as @a[tag=hold_coilgun_offhand,nbt={Inventory:[{id:"minecraft:knowledge_book",Slot:-106b,tag:{display:{Name:"\"Coilgun\""},Damage:30}}]}] run scoreboard players add @s bullet_count_offhand 30

# Unequip Coilgun In Offhand
execute as @a[tag=hold_coilgun_offhand] run item replace entity @s weapon.offhand with air
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=..0}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Empty\""]},CustomModelData:2,Damage:0}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=1..1}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:1}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=2..2}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:2}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=3..3}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:3}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=4..4}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:4}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=5..5}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:5}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=6..6}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:6}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=7..7}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:7}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=8..8}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:8}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=9..9}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:9}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=10..10}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:10}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=11..11}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:11}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=12..12}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:12}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=13..13}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:13}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=14..14}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:14}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=15..15}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:15}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=16..16}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:16}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=17..17}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:17}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=18..18}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:18}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=19..19}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:19}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=20..20}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:20}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=21..21}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:21}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=22..22}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:22}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=23..23}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:23}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=24..24}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:24}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=25..25}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:25}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=26..26}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:26}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=27..27}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:27}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=28..28}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:28}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=29..29}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:29}
execute as @a[tag=hold_coilgun_offhand,scores={bullet_count_offhand=30..30}] run give @s minecraft:knowledge_book{Recipes:["minecraft:crafting_table"],display:{Name:"\"Coilgun\"",Lore:["\"Bullet\""]},CustomModelData:2,Damage:30}